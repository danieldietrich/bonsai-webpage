(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const e of a)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function l(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerPolicy&&(e.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?e.credentials="include":a.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function c(a){if(a.ep)return;a.ep=!0;const e=l(a);fetch(a.href,e)}})();async function Q(r){if(r.length===0)return"";const s=new Blob([r]).stream().pipeThrough(new CompressionStream("gzip")),l=new Uint8Array(await new Response(s).arrayBuffer()),c=Array.from(l,a=>String.fromCodePoint(a)).join("");return btoa(c)}async function Y(r){if(r.length===0)return"";const s=atob(r),l=Uint8Array.from(s,a=>a.charCodeAt(0)),c=new Blob([l]).stream().pipeThrough(new DecompressionStream("gzip"));return await new Response(c).text()}async function ee(){const r=(await re()??oe())?.content||"";return ae(),r}function te(r){const s={content:r};localStorage.setItem("editorState",JSON.stringify(s))}function ne(){try{const r=localStorage.getItem("caretPosition");return r!==null?parseInt(r,10):0}catch{return 0}}function se(r){localStorage.setItem("caretPosition",String(r))}function ae(){window.history.replaceState(null,"",window.location.pathname)}async function re(){const r=window.location.hash,s="#doc=";try{if(r.startsWith(s)){const l=await Y(r.substring(s.length));return JSON.parse(l)}return null}catch(l){return console.error("Error parsing URL state:",l.message),console.error("The URL appears to be truncated or corrupted."),null}}function oe(){const r=localStorage.getItem("editorState");if(!r)return null;try{return JSON.parse(r)}catch(s){return console.error("Error parsing saved state",s),null}}function ce(r,s,l,c,a={}){let e=s;const n=[],p=[];let f=0,$="",C=!1;function v(o){r.innerHTML=l(o)}function w(o,t,i){if(t===o){let m=0;const S=Math.min(i,o.childNodes.length);for(let k=0;k<S;k++)m+=o.childNodes[k].textContent.length,k<o.childNodes.length-1&&(m+=1);return m}let u=t;for(;u&&u.parentNode!==o;)u=u.parentNode;if(!u)return 0;let h=0;for(let m=o.firstChild;m&&m!==u;m=m.nextSibling)h+=m.textContent.length+1;try{const m=document.createRange();m.setStart(u,0),m.setEnd(t,i),h+=m.toString().length}catch{}return h}function b(){const o=window.getSelection();return o.rangeCount?w(r,o.focusNode,o.focusOffset):0}function T(){const o=window.getSelection();if(!o.rangeCount)return{start:0,end:0};const t=w(r,o.anchorNode,o.anchorOffset),i=w(r,o.focusNode,o.focusOffset);return{start:Math.min(t,i),end:Math.max(t,i)}}function E(o){const t=window.getSelection(),i=Array.from(r.children);if(i.length===0){t.collapse(r,0);return}let u=o;for(let k=0;k<i.length;k++){const L=i[k],R=L.textContent.length;if(u<=R){const P=document.createTreeWalker(L,NodeFilter.SHOW_TEXT);for(;P.nextNode();){const O=P.currentNode.textContent.length;if(u<=O){t.collapse(P.currentNode,u);return}u-=O}t.collapse(L,0);return}if(u-=R,k<i.length-1){if(u===0){const P=document.createTreeWalker(L,NodeFilter.SHOW_TEXT);let O=null;for(;P.nextNode();)O=P.currentNode;O?t.collapse(O,O.textContent.length):t.collapse(L,L.childNodes.length);return}u-=1}}const h=i[i.length-1],m=document.createTreeWalker(h,NodeFilter.SHOW_TEXT);let S=null;for(;m.nextNode();)S=m.currentNode;S?t.collapse(S,S.textContent.length):t.collapse(h,h.childNodes.length)}function N(){const o=window.getSelection();if(!o.rangeCount)return;const t=o.getRangeAt(0).getBoundingClientRect();if(!t||t.height===0)return;const i=40,u=window.innerHeight;t.bottom>u-i?window.scrollBy({top:t.bottom-u+i,behavior:"smooth"}):t.top<i&&window.scrollBy({top:t.top-i,behavior:"smooth"})}function g(o,t){const i=Date.now();if(o===$&&i-f<500&&n.length>0){f=i;return}n.push({text:e,offset:t}),p.length=0,f=i,$=o}function D(){if(n.length===0)return;p.push({text:e,offset:b()});const o=n.pop();e=o.text,v(e),E(o.offset),N(),c(e)}function M(){if(p.length===0)return;n.push({text:e,offset:b()});const o=p.pop();e=o.text,v(e),E(o.offset),N(),c(e)}function F(o){if(o===0)return 0;let t=o;for(;t>0&&/\s/.test(e[t-1]);)t--;for(;t>0&&!/\s/.test(e[t-1]);)t--;return t}function W(o){const t=e.length;if(o>=t)return t;let i=o;for(;i<t&&!/\s/.test(e[i]);)i++;for(;i<t&&/\s/.test(e[i]);)i++;return i}function H(o){if(o===0)return 0;let t=o;for(;t>0&&e[t-1]!==`
`;)t--;return t}function K(o){const t=e.length;if(o>=t)return t;let i=o;for(;i<t&&e[i]!==`
`;)i++;return i}function j(o){const t=o.length,{start:i,end:u}=T();if(!(i!==u)){g("format",i),e=e.slice(0,i)+o+o+e.slice(i),y(i+t);return}const m=e.slice(i-t,i),S=e.slice(u,u+t);m===o&&S===o?(g("format",i),e=e.slice(0,i-t)+e.slice(i,u)+e.slice(u+t),y(u-t)):(g("format",i),e=e.slice(0,i)+o+e.slice(i,u)+o+e.slice(u),y(u+t+t))}function y(o){v(e),E(o),N(),c(e),a.onCaretChange?.(o)}function U(o){if(C||o.inputType==="insertCompositionText"||(o.preventDefault(),o.inputType==="insertFromPaste"||o.inputType==="deleteByCut"))return;const{start:t,end:i}=T(),u=t!==i;switch(o.inputType){case"insertText":{const h=o.data||"";g("insertText",t),e=e.slice(0,t)+h+e.slice(i),y(t+h.length);break}case"insertParagraph":case"insertLineBreak":{g("insertLine",t),e=e.slice(0,t)+`
`+e.slice(i),y(t+1);break}case"deleteContentBackward":{u?(g("delete",t),e=e.slice(0,t)+e.slice(i),y(t)):t>0&&(g("delete",t),e=e.slice(0,t-1)+e.slice(t),y(t-1));break}case"deleteContentForward":{u?(g("delete",t),e=e.slice(0,t)+e.slice(i),y(t)):t<e.length&&(g("delete",t),e=e.slice(0,t)+e.slice(t+1),y(t));break}case"deleteWordBackward":{if(u)g("deleteWord",t),e=e.slice(0,t)+e.slice(i),y(t);else{const h=F(t);h<t&&(g("deleteWord",t),e=e.slice(0,h)+e.slice(t),y(h))}break}case"deleteWordForward":{if(u)g("deleteWord",t),e=e.slice(0,t)+e.slice(i),y(t);else{const h=W(t);h>t&&(g("deleteWord",t),e=e.slice(0,t)+e.slice(h),y(t))}break}case"deleteSoftLineBackward":case"deleteHardLineBackward":{if(u)g("deleteLine",t),e=e.slice(0,t)+e.slice(i),y(t);else{const h=H(t);h<t&&(g("deleteLine",t),e=e.slice(0,h)+e.slice(t),y(h))}break}case"deleteSoftLineForward":case"deleteHardLineForward":{if(u)g("deleteLine",t),e=e.slice(0,t)+e.slice(i),y(t);else{const h=K(t);h>t&&(g("deleteLine",t),e=e.slice(0,t)+e.slice(h),y(t))}break}case"historyUndo":{D();break}case"historyRedo":{M();break}case"insertReplacementText":{const h=o.getTargetRanges();if(h.length>0){const m=h[0],S=w(r,m.startContainer,m.startOffset),k=w(r,m.endContainer,m.endOffset),L=o.dataTransfer?.getData("text/plain")||o.data||"";g("replace",S),e=e.slice(0,S)+L+e.slice(k),y(S+L.length)}break}}}function z(){C=!0}function J(){C=!1;const o=b();e=Array.from(r.children).map(t=>t.textContent).join(`
`),v(e),E(o),c(e)}function X(o){o.preventDefault();const{start:t,end:i}=T();t!==i&&o.clipboardData.setData("text/plain",e.slice(t,i))}function Z(o){o.preventDefault();const{start:t,end:i}=T();t!==i&&(o.clipboardData.setData("text/plain",e.slice(t,i)),g("cut",t),e=e.slice(0,t)+e.slice(i),y(t))}function V(o){o.preventDefault();const t=o.clipboardData.getData("text/plain");if(!t)return;const{start:i,end:u}=T();g("paste",i),e=e.slice(0,i)+t+e.slice(u),y(i+t.length)}function G(o){(o.metaKey||o.ctrlKey)&&o.key==="z"&&(o.preventDefault(),o.shiftKey?M():D()),(o.metaKey||o.ctrlKey)&&o.key==="b"&&(o.preventDefault(),j("**")),(o.metaKey||o.ctrlKey)&&o.key==="i"&&(o.preventDefault(),j("_"))}r.addEventListener("keydown",G),r.addEventListener("beforeinput",U),r.addEventListener("compositionstart",z),r.addEventListener("compositionend",J),r.addEventListener("copy",X),r.addEventListener("cut",Z),r.addEventListener("paste",V),v(e);const A=Math.min(a.initialCaretPosition??0,e.length);if(A>0){E(A);const o=window.getSelection();if(o.rangeCount){const t=o.getRangeAt(0).getBoundingClientRect();if(t&&t.height>0){const i=window.innerHeight/2;window.scrollBy({top:t.top-i})}}}return document.addEventListener("selectionchange",()=>{if(!a.onCaretChange)return;const o=window.getSelection();o.rangeCount&&r.contains(o.focusNode)&&a.onCaretChange(b())}),{getText:()=>e}}const x={escaped:/\\([\\`*_{}\[\]()#+\-.!~^|$])/g,inlineCode:new RegExp("(?<!`)`(?!`)([^`\\n]+?)`(?!`)","g"),inlineMath:new RegExp("(?<!\\$)\\$(?!\\$)([^\\$\\n]+?)\\$(?!\\$)","g"),comment:/<!--([\s\S]*?)-->/g,boldItalic:/\*\*\*([^\s\*](?:[^\*\n]*?[^\s\*])?)\*\*\*/g,bold:/\*\*([^\s\*](?:[^\*\n]*?[^\s\*])?)\*\*/g,boldUnderscore:/__([^\s_](?:[^_\n]*?[^\s_])?)__/g,italicAsterisk:new RegExp("(?<!\\*)\\*(?!\\*)([^\\s\\*](?:[^\\*\\n]*?[^\\s\\*])?)\\*(?!\\*)","g"),italicUnderscore:/_([^\s_](?:[^_\n]*?[^\s_])?)_/g,strikethrough:/~~([^\s~](?:[^~\n]*?[^\s~])?)~~/g,superscript:/\^([^\s^](?:[^^\n]*?[^\s^])?)\^/g,subscript:new RegExp("(?<!~)~(?!~)([^\\s~](?:[^~\\n]*?[^\\s~])?)~(?!~)","g"),autoLink:/<(https?:\/\/[^>\s]+)>/g,autoEmail:/<([^>\s]+@[^>\s]+\.[^>\s]+)>/g,htmlTag:/<\/?[a-zA-Z][a-zA-Z0-9-]*(?:[ \t]+[^>]*)?\/?>/g,image:/!\[([^\]]*)\]\(([^)]+)\)/g,link:/\[([^\]]+)\]\(([^)]+)\)/g,refImage:/!\[([^\]]*)\]\[([^\]]*)\]/g,refLink:/\[([^\]]+)\]\[([^\]]*)\]/g,footnoteRef:/\[\^([^\]]+)\]/g};function d(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}let B={};function ie(r){const s={},l=r.split(`
`);for(const c of l){const a=c.match(/^\[([^\]]+)\]:\s+(\S+)(?:\s+"([^"]*)")?$/);a&&(s[a[1].toLowerCase()]={url:a[2],title:a[3]||""})}return s}function I(r){const s=r.split(`
`),l=[];let c=0,a=0;if(s[0].match(/^---\s*$/)&&s.length>1){for(let e=1;e<s.length;e++)if(s[e].match(/^\s*---\s*$/)){const n=s.slice(0,e+1).join(`
`);l.push({type:"metadata",text:n,offset:0}),c=n.length+1,a=e+1;break}}for(;a<s.length;){const e=s[a];if(e.match(/^```/)){let n=a+1;for(;n<s.length&&!s[n].match(/^\s*```/);)n++;if(n<s.length){const p=s.slice(a,n+1).join(`
`);l.push({type:"code",text:p,offset:c}),c+=p.length+1,a=n+1;continue}}if(e.match(/^\$\$\s*$/)){let n=a+1;for(;n<s.length&&!s[n].match(/^\s*\$\$/);)n++;if(n<s.length){const p=s.slice(a,n+1).join(`
`);l.push({type:"math",text:p,offset:c}),c+=p.length+1,a=n+1;continue}}if(e.match(/^\|.*\|\s*$/)&&a+1<s.length){const n=s[a+1];if(n.match(/^\|(?:\s*:?-+:?\s*\|)+\s*$/)){const p=f=>f.split("|").length-1;if(p(e)===p(n)){let f=a+2;for(;f<s.length&&s[f].match(/^\|.*\|\s*$/);)f++;const $=s.slice(a,f).join(`
`);l.push({type:"table",text:$,offset:c}),c+=$.length+1,a=f;continue}}}if(e.match(/^\s*>(?:\s|$)/)){let n=a+1;for(;n<s.length&&s[n].match(/^\s*>(?:\s|$)/);)n++;const f=s.slice(a,n).map(w=>{const b=w.match(/^(\s*>)(\s?)(.*)/);return b?{prefix:b[1]+b[2],content:b[3]}:{prefix:"",content:w}}),$=f.map(w=>w.content).join(`
`),C=I($);let v=0;for(const w of C){const b=w.text.split(`
`).length,T=f.slice(v,v+b).map(N=>N.prefix),E=w.text.split(`
`).map((N,g)=>T[g]+N);l.push({type:w.type,text:E.join(`
`),offset:c,blockquote:!0,innerText:w.text,prefixes:T}),c+=E.join(`
`).length+1,v+=b}a=n;continue}if(e.match(/^#{1,6}[ \t]+.+$/)){l.push({type:"heading",text:e,offset:c}),c+=e.length+1,a++;continue}if(e!==""&&!e.match(/^\s*(---+|\*\*\*+|___+)\s*$/)&&a+1<s.length){const n=s[a+1];if(n.match(/^=+\s*$/)||n.match(/^-+\s*$/)){const p=e+`
`+n;l.push({type:"setext",text:p,offset:c}),c+=p.length+1,a+=2;continue}}if(e.match(/^\s*(---+|\*\*\*+|___+)\s*$/)){l.push({type:"hr",text:e,offset:c}),c+=e.length+1,a++;continue}if(e.match(/^(?: {4}|\t)/)&&!e.match(/^\s*[*\-+] /)&&!e.match(/^\s*\d+\. /)&&!e.match(/^\s*>(?:\s|$)/)){let n=a+1;for(;n<s.length&&s[n].match(/^(?: {4}|\t)/)&&!s[n].match(/^\s*[*\-+] /)&&!s[n].match(/^\s*\d+\. /)&&!s[n].match(/^\s*>(?:\s|$)/);)n++;const p=s.slice(a,n).join(`
`);l.push({type:"indented-code",text:p,offset:c}),c+=p.length+1,a=n;continue}l.push({type:"line",text:e,offset:c}),c+=e.length+1,a++}return l}function _(r){let s=r;const l=[],c=e=>{const n=`PROTECTED${l.length}`;return l.push(e),n};s=s.replace(x.escaped,(e,n)=>c(`<span class="md-syntax">\\</span>${d(n)}`)).replace(x.inlineCode,(e,n)=>c(`<code><span class="md-syntax">\`</span>${d(n)}<span class="md-syntax">\`</span></code>`)).replace(x.inlineMath,(e,n)=>c(`<code class="math"><span class="md-syntax">$</span>${d(n)}<span class="md-syntax">$</span></code>`)).replace(x.comment,(e,n)=>c(`<span class="comment">&lt;!--${d(n)}--&gt;</span>`)).replace(x.autoLink,(e,n)=>c(`<span class="md-syntax">&lt;</span><a href="${d(n)}" target="_blank" rel="noopener noreferrer">${d(n)}</a><span class="md-syntax">&gt;</span>`)).replace(x.autoEmail,(e,n)=>c(`<span class="md-syntax">&lt;</span><a href="mailto:${d(n)}">${d(n)}</a><span class="md-syntax">&gt;</span>`)).replace(x.htmlTag,e=>c(`<code class="md-syntax">${d(e)}</code>`)).replace(x.image,(e,n,p)=>c(`<span class="md-syntax">![</span>${d(n)}<span class="md-syntax">](</span><a href="${d(p)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">)</span>`)).replace(x.link,(e,n,p)=>c('<span class="md-syntax">[</span>')+n+c(`<span class="md-syntax">](</span><a href="${d(p)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">)</span>`)).replace(x.refImage,(e,n,p)=>{const f=(p||n).toLowerCase(),$=B[f];return $?c(`<span class="md-syntax">![</span>${d(n)}<span class="md-syntax">][</span><a href="${d($.url)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">]</span>`):e}).replace(x.refLink,(e,n,p)=>{const f=(p||n).toLowerCase(),$=B[f];return $?c('<span class="md-syntax">[</span>')+n+c(`<span class="md-syntax">][</span><a href="${d($.url)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">]</span>`):e}).replace(x.footnoteRef,(e,n)=>c('<span class="md-syntax">[^</span>')+n+c('<span class="md-syntax">]</span>')),s=d(s);const a=e=>`<span class="md-syntax">${e}</span>`;return s=s.replace(x.boldItalic,(e,n)=>c(`<b><em>${a("***")}`)+n+c(`${a("***")}</em></b>`)).replace(x.bold,(e,n)=>`<b>${a("**")}${n}${a("**")}</b>`).replace(x.boldUnderscore,(e,n)=>`<b>${a("__")}${n}${a("__")}</b>`).replace(x.strikethrough,(e,n)=>`<s>${a("~~")}${n}${a("~~")}</s>`).replace(x.superscript,(e,n)=>`<sup>${a("^")}${n}${a("^")}</sup>`).replace(x.subscript,(e,n)=>`<sub>${a("~")}${n}${a("~")}</sub>`).replace(x.italicAsterisk,(e,n)=>`<em>${a("*")}${n}${a("*")}</em>`).replace(x.italicUnderscore,(e,n)=>`<em>${a("_")}${n}${a("_")}</em>`),s=s.replace(/\uE000PROTECTED(\d+)\uE001/g,(e,n)=>l[parseInt(n,10)]),s}function le(r){const s=r.match(/^(\s*)(>)(\s?)$/);if(!s)return d(r);const l=s[1],c=s[2],a=s[3];return l?`<span class="indent">${d(l)}</span><span class="md-syntax">${d(c)}</span>${a}`:`<span class="md-syntax">${d(c)}</span>${a}`}function de(r){return/^<\w+[^>]*\sclass="[^"]*bq/.test(r)?r:/^<\w+[^>]*\sclass="/.test(r)?r.replace(/^(<\w+[^>]*\sclass="[^"]*)(")/,"$1 bq$2"):r.replace(/^(<\w+)/,'$1 class="bq"')}function pe(r,s){const c=r.split(`
`).map((a,e)=>{const n=s[e];if(!n)return a;const p=le(n),f=a.match(/^(<(?:pre|code|div|h[1-6])[^>]*>)*/),$=f?f[0].length:0,C=a.replace(/<br>/g,"");return C.slice(0,$)+p+C.slice($)}).join(`
`);return de(c)}function q(r){if(r.blockquote){const s={type:r.type,text:r.innerText},l=q(s),c=Array.isArray(l)?l:[l];let a=0;const e=[];for(const n of c){const p=(n.match(/\n/g)||[]).length+1,f=r.prefixes.slice(a,a+p);e.push(pe(n,f)),a+=p}return e.length===1?e[0]:e}switch(r.type){case"metadata":{const s=r.text.split(`
`),l=`<span class="md-syntax">${d(s[0])}</span>`,c=`<span class="md-syntax">${d(s[s.length-1])}</span>`,a=s.slice(1,-1);return a.length>0?`<pre><code>${l}
${a.map(e=>d(e)).join(`
`)}
${c}</code></pre>`:`<pre><code>${l}
${c}</code></pre>`}case"code":{const s=r.text.match(/^(```[^\n]*)\n([\s\S]*?)\n(\s*```)$/);return s?`<pre><code><span class="md-syntax">${d(s[1])}</span>
${d(s[2])}
<span class="md-syntax">${d(s[3])}</span></code></pre>`:`<pre><code>${d(r.text)}</code></pre>`}case"indented-code":return`<pre><code>${d(r.text)}</code></pre>`;case"table":return`<pre><code>${r.text.split(`
`).map((c,a)=>{const e=d(c);return a===1?`<span class="md-syntax">${e}</span>`:e.replace(/\|/g,'<span class="md-syntax">|</span>')}).join(`
`)}</code></pre>`;case"math":{const s=r.text.match(/^(\$\$)\n([\s\S]*?)\n(\s*\$\$)$/);return s?`<pre><code class="math"><span class="md-syntax">${d(s[1])}</span>
${d(s[2])}
<span class="md-syntax">${d(s[3])}</span></code></pre>`:`<pre><code class="math">${d(r.text)}</code></pre>`}case"heading":{const s=r.text.match(/^(#{1,6}[ \t]+)(.*)/),l=s[1].trim().length;return`<h${l}><span class="md-syntax">${d(s[1])}</span>${_(s[2])}</h${l}>`}case"setext":{const s=r.text.indexOf(`
`),l=r.text.slice(0,s),c=r.text.slice(s+1),a=c.trimStart()[0]==="="?1:2;return`<h${a}>${_(l)}
<span class="md-rule md-syntax">${d(c)}</span></h${a}>`}case"hr":return`<div class="md-rule md-syntax">${d(r.text)}</div>`;case"line":{if(r.text==="")return'<div class="line"><br></div>';const s=r.text.match(/^(\[\^)([^\]]+)(\]:\s)(.*)/);if(s)return`<div class="line"><span class="md-syntax">${d(s[1])}</span>${d(s[2])}<span class="md-syntax">${d(s[3])}</span>${_(s[4])}</div>`;const l=r.text.match(/^(\[[^\]]+\]:\s+)(\S+)(\s+"[^"]*")?$/);if(l){const n=l[1],p=l[2],f=l[3]||"";return`<div class="line"><span class="md-syntax">${d(n)}</span><a href="${d(p)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">${d(f)}</span></div>`}const c=r.text.match(/^(\s*)([*\-+] )/);if(c){const n=c[1],p=c[2],f=r.text.slice(n.length+p.length),$=f.match(/^(\[[ xX]\] )/);if($){const C=$[1],v=f.slice(C.length),b=C[1]!==" "?`<span class="task-done">${_(v)}</span>`:_(v);return`<div class="line"><span class="indent">${d(n)}</span><span class="md-syntax">${d(p)}</span><span class="md-checkbox">${d(C)}</span>${b}</div>`}return`<div class="line"><span class="indent">${d(n)}</span><span class="md-syntax">${d(p)}</span>${_(f)}</div>`}const a=r.text.match(/^(\s*)(\d+\. )/);if(a){const n=a[1],p=a[2],f=r.text.slice(n.length+p.length);return`<div class="line"><span class="indent">${d(n)}</span><span class="md-syntax">${d(p)}</span>${_(f)}</div>`}const e=r.text.match(/^(: )/);if(e){const n=e[1],p=r.text.slice(n.length);return`<div class="line"><span class="md-syntax">${d(n)}</span>${_(p)}</div>`}return`<div class="line">${_(r.text)}</div>`}}}function ue(r){return B=ie(r),I(r).flatMap(l=>{const c=q(l);return Array.isArray(c)?c:[c]}).join("")}function fe(r,s){document.addEventListener("keydown",l=>{if((l.metaKey||l.ctrlKey)&&l.key==="s"){l.preventDefault();const c=l.metaKey?"⌘S":"Ctrl+S";he(s,c)}})}function he(r,s){try{const c={content:r()},a=JSON.stringify(c),e=Q(a).then(p=>{const f=`${window.location.origin}${window.location.pathname}?#doc=${p}`;return new Blob([f],{type:"text/plain"})}),n=new ClipboardItem({"text/plain":e});navigator.clipboard.write([n]).then(()=>{me(s,"Link copied!")})}catch(l){console.error("Failed to copy link to clipboard:",l)}}function me(r,s){const l=document.querySelector(".signal-overlay");l&&l.remove();const c=document.createElement("div");c.className="signal-overlay";const a=document.createElement("div");a.className="signal";const e=document.createElement("span");e.className="signal-keys",e.textContent=r;const n=document.createElement("span");n.className="signal-message",n.textContent=s,a.appendChild(e),a.appendChild(n),c.appendChild(a),document.body.appendChild(c),c.addEventListener("animationend",p=>{p.target===c&&c.remove()})}document.addEventListener("DOMContentLoaded",async()=>{const r=document.querySelector(".paper");ge();const s=window.location.hash.startsWith("#doc="),l=await ee(),c=s?0:ne(),a=ce(r,l,ue,te,{initialCaretPosition:c,onCaretChange:se});fe(r,a.getText),r.focus(),ye(2e3)});function ge(){const r=document.querySelector(".logo");r?.addEventListener("animationend",()=>r.remove(),{once:!0})}function ye(r){let s;document.addEventListener("mousemove",()=>{document.body.classList.remove("hide-cursor"),clearTimeout(s),s=setTimeout(()=>{document.body.classList.add("hide-cursor")},r)},{passive:!0}),document.body.classList.add("hide-cursor")}
