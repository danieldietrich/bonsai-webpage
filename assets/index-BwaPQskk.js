(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&o(t)}).observe(document,{childList:!0,subtree:!0});function i(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerPolicy&&(e.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?e.credentials="include":r.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(r){if(r.ep)return;r.ep=!0;const e=i(r);fetch(r.href,e)}})();async function G(a){if(a.length===0)return"";const s=await Y(a),i=Array.from(s,o=>String.fromCodePoint(o)).join("");return btoa(i)}async function Q(a){if(a.length===0)return"";const s=atob(a),i=Uint8Array.from(s,o=>o.charCodeAt(0));return await ee(i)}async function Y(a){const s=new Blob([a]).stream().pipeThrough(new CompressionStream("gzip"));return new Uint8Array(await new Response(s).arrayBuffer())}async function ee(a){const s=new Blob([a]).stream().pipeThrough(new DecompressionStream("gzip"));return await new Response(s).text()}async function te(){const a=(await oe()??ce())?.content||"";return re(),a}function ne(a){const s={content:a};localStorage.setItem("editorState",JSON.stringify(s))}function se(){try{const a=localStorage.getItem("caretPosition");return a!==null?parseInt(a,10):0}catch{return 0}}function ae(a){localStorage.setItem("caretPosition",String(a))}function re(){window.history.replaceState(null,"",window.location.pathname)}async function oe(){const a=window.location.hash,s="#doc=";try{if(a.startsWith(s)){const i=await Q(a.substring(s.length));return JSON.parse(i)}return null}catch(i){return console.error("Error parsing URL state:",i.message),console.error("The URL appears to be truncated or corrupted."),null}}function ce(){const a=localStorage.getItem("editorState");if(!a)return null;try{return JSON.parse(a)}catch(s){return console.error("Error parsing saved state",s),null}}function ie(a,s,i,o,r={}){let e=s;const t=[],p=[];let u=0,y="",C=!1;function k(c){a.innerHTML=i(c)}function w(c,n,l){if(n===c){let m=0;const S=Math.min(l,c.childNodes.length);for(let v=0;v<S;v++)m+=c.childNodes[v].textContent.length,v<c.childNodes.length-1&&(m+=1);return m}let h=n;for(;h&&h.parentNode!==c;)h=h.parentNode;if(!h)return 0;let f=0;for(let m=c.firstChild;m&&m!==h;m=m.nextSibling)f+=m.textContent.length+1;try{const m=document.createRange();m.setStart(h,0),m.setEnd(n,l),f+=m.toString().length}catch{}return f}function b(){const c=window.getSelection();return c.rangeCount?w(a,c.focusNode,c.focusOffset):0}function E(){const c=window.getSelection();if(!c.rangeCount)return{start:0,end:0};const n=w(a,c.anchorNode,c.anchorOffset),l=w(a,c.focusNode,c.focusOffset);return{start:Math.min(n,l),end:Math.max(n,l)}}function T(c){const n=window.getSelection(),l=Array.from(a.children);if(l.length===0){n.collapse(a,0);return}let h=c;for(let v=0;v<l.length;v++){const L=l[v],A=L.textContent.length;if(h<=A){const P=document.createTreeWalker(L,NodeFilter.SHOW_TEXT);for(;P.nextNode();){const O=P.currentNode.textContent.length;if(h<=O){n.collapse(P.currentNode,h);return}h-=O}n.collapse(L,0);return}if(h-=A,v<l.length-1){if(h===0){const P=document.createTreeWalker(L,NodeFilter.SHOW_TEXT);let O=null;for(;P.nextNode();)O=P.currentNode;O?n.collapse(O,O.textContent.length):n.collapse(L,L.childNodes.length);return}h-=1}}const f=l[l.length-1],m=document.createTreeWalker(f,NodeFilter.SHOW_TEXT);let S=null;for(;m.nextNode();)S=m.currentNode;S?n.collapse(S,S.textContent.length):n.collapse(f,f.childNodes.length)}function N(){const c=window.getSelection();if(!c.rangeCount)return;const n=c.getRangeAt(0).getBoundingClientRect();if(!n||n.height===0)return;const l=40,h=window.innerHeight;n.bottom>h-l?window.scrollBy({top:n.bottom-h+l,behavior:"smooth"}):n.top<l&&window.scrollBy({top:n.top-l,behavior:"smooth"})}function x(c,n){const l=Date.now();if(c===y&&l-u<500&&t.length>0){u=l;return}t.push({text:e,offset:n}),p.length=0,u=l,y=c}function D(){if(t.length===0)return;p.push({text:e,offset:b()});const c=t.pop();e=c.text,k(e),T(c.offset),N(),o(e)}function M(){if(p.length===0)return;t.push({text:e,offset:b()});const c=p.pop();e=c.text,k(e),T(c.offset),N(),o(e)}function q(c){if(c===0)return 0;let n=c;for(;n>0&&/\s/.test(e[n-1]);)n--;for(;n>0&&!/\s/.test(e[n-1]);)n--;return n}function F(c){const n=e.length;if(c>=n)return n;let l=c;for(;l<n&&!/\s/.test(e[l]);)l++;for(;l<n&&/\s/.test(e[l]);)l++;return l}function W(c){if(c===0)return 0;let n=c;for(;n>0&&e[n-1]!==`
`;)n--;return n}function H(c){const n=e.length;if(c>=n)return n;let l=c;for(;l<n&&e[l]!==`
`;)l++;return l}function $(c){k(e),T(c),N(),o(e),r.onCaretChange?.(c)}function U(c){if(C||c.inputType==="insertCompositionText"||(c.preventDefault(),c.inputType==="insertFromPaste"||c.inputType==="deleteByCut"))return;const{start:n,end:l}=E(),h=n!==l;switch(c.inputType){case"insertText":{const f=c.data||"";x("insertText",n),e=e.slice(0,n)+f+e.slice(l),$(n+f.length);break}case"insertParagraph":case"insertLineBreak":{x("insertLine",n),e=e.slice(0,n)+`
`+e.slice(l),$(n+1);break}case"deleteContentBackward":{h?(x("delete",n),e=e.slice(0,n)+e.slice(l),$(n)):n>0&&(x("delete",n),e=e.slice(0,n-1)+e.slice(n),$(n-1));break}case"deleteContentForward":{h?(x("delete",n),e=e.slice(0,n)+e.slice(l),$(n)):n<e.length&&(x("delete",n),e=e.slice(0,n)+e.slice(n+1),$(n));break}case"deleteWordBackward":{if(h)x("deleteWord",n),e=e.slice(0,n)+e.slice(l),$(n);else{const f=q(n);f<n&&(x("deleteWord",n),e=e.slice(0,f)+e.slice(n),$(f))}break}case"deleteWordForward":{if(h)x("deleteWord",n),e=e.slice(0,n)+e.slice(l),$(n);else{const f=F(n);f>n&&(x("deleteWord",n),e=e.slice(0,n)+e.slice(f),$(n))}break}case"deleteSoftLineBackward":case"deleteHardLineBackward":{if(h)x("deleteLine",n),e=e.slice(0,n)+e.slice(l),$(n);else{const f=W(n);f<n&&(x("deleteLine",n),e=e.slice(0,f)+e.slice(n),$(f))}break}case"deleteSoftLineForward":case"deleteHardLineForward":{if(h)x("deleteLine",n),e=e.slice(0,n)+e.slice(l),$(n);else{const f=H(n);f>n&&(x("deleteLine",n),e=e.slice(0,n)+e.slice(f),$(n))}break}case"historyUndo":{D();break}case"historyRedo":{M();break}case"insertReplacementText":{const f=c.getTargetRanges();if(f.length>0){const m=f[0],S=w(a,m.startContainer,m.startOffset),v=w(a,m.endContainer,m.endOffset),L=c.dataTransfer?.getData("text/plain")||c.data||"";x("replace",S),e=e.slice(0,S)+L+e.slice(v),$(S+L.length)}break}}}function K(){C=!0}function z(){C=!1;const c=b();e=Array.from(a.children).map(n=>n.textContent).join(`
`),k(e),T(c),o(e)}function J(c){c.preventDefault();const{start:n,end:l}=E();n!==l&&c.clipboardData.setData("text/plain",e.slice(n,l))}function X(c){c.preventDefault();const{start:n,end:l}=E();n!==l&&(c.clipboardData.setData("text/plain",e.slice(n,l)),x("cut",n),e=e.slice(0,n)+e.slice(l),$(n))}function Z(c){c.preventDefault();const n=c.clipboardData.getData("text/plain");if(!n)return;const{start:l,end:h}=E();x("paste",l),e=e.slice(0,l)+n+e.slice(h),$(l+n.length)}function V(c){(c.metaKey||c.ctrlKey)&&c.key==="z"&&(c.preventDefault(),c.shiftKey?M():D())}a.addEventListener("keydown",V),a.addEventListener("beforeinput",U),a.addEventListener("compositionstart",K),a.addEventListener("compositionend",z),a.addEventListener("copy",J),a.addEventListener("cut",X),a.addEventListener("paste",Z),k(e);const j=Math.min(r.initialCaretPosition??0,e.length);if(j>0){T(j);const c=window.getSelection();if(c.rangeCount){const n=c.getRangeAt(0).getBoundingClientRect();if(n&&n.height>0){const l=window.innerHeight/2;window.scrollBy({top:n.top-l})}}}return document.addEventListener("selectionchange",()=>{if(!r.onCaretChange)return;const c=window.getSelection();c.rangeCount&&a.contains(c.focusNode)&&r.onCaretChange(b())}),{getText:()=>e}}const g={escaped:/\\([\\`*_{}\[\]()#+\-.!~^|$])/g,inlineCode:new RegExp("(?<!`)`(?!`)([^`\\n]+?)`(?!`)","g"),inlineMath:new RegExp("(?<!\\$)\\$(?!\\$)([^\\$\\n]+?)\\$(?!\\$)","g"),comment:/<!--([\s\S]*?)-->/g,boldItalic:/\*\*\*([^\s\*](?:[^\*\n]*?[^\s\*])?)\*\*\*/g,bold:/\*\*([^\s\*](?:[^\*\n]*?[^\s\*])?)\*\*/g,boldUnderscore:/__([^\s_](?:[^_\n]*?[^\s_])?)__/g,italicAsterisk:new RegExp("(?<!\\*)\\*(?!\\*)([^\\s\\*](?:[^\\*\\n]*?[^\\s\\*])?)\\*(?!\\*)","g"),italicUnderscore:/_([^\s_](?:[^_\n]*?[^\s_])?)_/g,strikethrough:/~~([^\s~](?:[^~\n]*?[^\s~])?)~~/g,superscript:/\^([^\s^](?:[^^\n]*?[^\s^])?)\^/g,subscript:new RegExp("(?<!~)~(?!~)([^\\s~](?:[^~\\n]*?[^\\s~])?)~(?!~)","g"),autoLink:/<(https?:\/\/[^>\s]+)>/g,autoEmail:/<([^>\s]+@[^>\s]+\.[^>\s]+)>/g,htmlTag:/<\/?[a-zA-Z][a-zA-Z0-9-]*(?:[ \t]+[^>]*)?\/?>/g,image:/!\[([^\]]*)\]\(([^)]+)\)/g,link:/\[([^\]]+)\]\(([^)]+)\)/g,refImage:/!\[([^\]]*)\]\[([^\]]*)\]/g,refLink:/\[([^\]]+)\]\[([^\]]*)\]/g,footnoteRef:/\[\^([^\]]+)\]/g};function d(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}let B={};function le(a){const s={},i=a.split(`
`);for(const o of i){const r=o.match(/^\[([^\]]+)\]:\s+(\S+)(?:\s+"([^"]*)")?$/);r&&(s[r[1].toLowerCase()]={url:r[2],title:r[3]||""})}return s}function R(a){const s=a.split(`
`),i=[];let o=0,r=0;if(s[0].match(/^---\s*$/)&&s.length>1){for(let e=1;e<s.length;e++)if(s[e].match(/^\s*---\s*$/)){const t=s.slice(0,e+1).join(`
`);i.push({type:"metadata",text:t,offset:0}),o=t.length+1,r=e+1;break}}for(;r<s.length;){const e=s[r];if(e.match(/^```/)){let t=r+1;for(;t<s.length&&!s[t].match(/^\s*```/);)t++;if(t<s.length){const p=s.slice(r,t+1).join(`
`);i.push({type:"code",text:p,offset:o}),o+=p.length+1,r=t+1;continue}}if(e.match(/^\$\$\s*$/)){let t=r+1;for(;t<s.length&&!s[t].match(/^\s*\$\$/);)t++;if(t<s.length){const p=s.slice(r,t+1).join(`
`);i.push({type:"math",text:p,offset:o}),o+=p.length+1,r=t+1;continue}}if(e.match(/^\|.*\|\s*$/)&&r+1<s.length){const t=s[r+1];if(t.match(/^\|(?:\s*:?-+:?\s*\|)+\s*$/)){const p=u=>u.split("|").length-1;if(p(e)===p(t)){let u=r+2;for(;u<s.length&&s[u].match(/^\|.*\|\s*$/);)u++;const y=s.slice(r,u).join(`
`);i.push({type:"table",text:y,offset:o}),o+=y.length+1,r=u;continue}}}if(e.match(/^\s*>(?:\s|$)/)){let t=r+1;for(;t<s.length&&s[t].match(/^\s*>(?:\s|$)/);)t++;const u=s.slice(r,t).map(w=>{const b=w.match(/^(\s*>)(\s?)(.*)/);return b?{prefix:b[1]+b[2],content:b[3]}:{prefix:"",content:w}}),y=u.map(w=>w.content).join(`
`),C=R(y);let k=0;for(const w of C){const b=w.text.split(`
`).length,E=u.slice(k,k+b).map(N=>N.prefix),T=w.text.split(`
`).map((N,x)=>E[x]+N);i.push({type:w.type,text:T.join(`
`),offset:o,blockquote:!0,innerText:w.text,prefixes:E}),o+=T.join(`
`).length+1,k+=b}r=t;continue}if(e.match(/^#{1,6}[ \t]+.+$/)){i.push({type:"heading",text:e,offset:o}),o+=e.length+1,r++;continue}if(e!==""&&!e.match(/^\s*(---+|\*\*\*+|___+)\s*$/)&&r+1<s.length){const t=s[r+1];if(t.match(/^=+\s*$/)||t.match(/^-+\s*$/)){const p=e+`
`+t;i.push({type:"setext",text:p,offset:o}),o+=p.length+1,r+=2;continue}}if(e.match(/^\s*(---+|\*\*\*+|___+)\s*$/)){i.push({type:"hr",text:e,offset:o}),o+=e.length+1,r++;continue}if(e.match(/^(?: {4}|\t)/)&&!e.match(/^\s*[*\-+] /)&&!e.match(/^\s*\d+\. /)&&!e.match(/^\s*>(?:\s|$)/)){let t=r+1;for(;t<s.length&&s[t].match(/^(?: {4}|\t)/)&&!s[t].match(/^\s*[*\-+] /)&&!s[t].match(/^\s*\d+\. /)&&!s[t].match(/^\s*>(?:\s|$)/);)t++;const p=s.slice(r,t).join(`
`);i.push({type:"indented-code",text:p,offset:o}),o+=p.length+1,r=t;continue}i.push({type:"line",text:e,offset:o}),o+=e.length+1,r++}return i}function _(a){let s=a;const i=[],o=e=>{const t=`PROTECTED${i.length}`;return i.push(e),t};s=s.replace(g.escaped,(e,t)=>o(`<span class="md-syntax">\\</span>${d(t)}`)).replace(g.inlineCode,(e,t)=>o(`<code><span class="md-syntax">\`</span>${d(t)}<span class="md-syntax">\`</span></code>`)).replace(g.inlineMath,(e,t)=>o(`<code class="math"><span class="md-syntax">$</span>${d(t)}<span class="md-syntax">$</span></code>`)).replace(g.comment,(e,t)=>o(`<span class="comment">&lt;!--${d(t)}--&gt;</span>`)).replace(g.autoLink,(e,t)=>o(`<span class="md-syntax">&lt;</span><a href="${d(t)}" target="_blank" rel="noopener noreferrer">${d(t)}</a><span class="md-syntax">&gt;</span>`)).replace(g.autoEmail,(e,t)=>o(`<span class="md-syntax">&lt;</span><a href="mailto:${d(t)}">${d(t)}</a><span class="md-syntax">&gt;</span>`)).replace(g.htmlTag,e=>o(`<code class="md-syntax">${d(e)}</code>`)).replace(g.image,(e,t,p)=>o(`<span class="md-syntax">![</span>${d(t)}<span class="md-syntax">](</span><a href="${d(p)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">)</span>`)).replace(g.link,(e,t,p)=>o('<span class="md-syntax">[</span>')+t+o(`<span class="md-syntax">](</span><a href="${d(p)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">)</span>`)).replace(g.refImage,(e,t,p)=>{const u=(p||t).toLowerCase(),y=B[u];return y?o(`<span class="md-syntax">![</span>${d(t)}<span class="md-syntax">][</span><a href="${d(y.url)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">]</span>`):e}).replace(g.refLink,(e,t,p)=>{const u=(p||t).toLowerCase(),y=B[u];return y?o('<span class="md-syntax">[</span>')+t+o(`<span class="md-syntax">][</span><a href="${d(y.url)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">]</span>`):e}).replace(g.footnoteRef,(e,t)=>o('<span class="md-syntax">[^</span>')+t+o('<span class="md-syntax">]</span>')),s=d(s);const r=e=>`<span class="md-syntax">${e}</span>`;return s=s.replace(g.boldItalic,(e,t)=>`<b><em>${r("***")}${t}${r("***")}</em></b>`).replace(g.bold,(e,t)=>`<b>${r("**")}${t}${r("**")}</b>`).replace(g.boldUnderscore,(e,t)=>`<b>${r("__")}${t}${r("__")}</b>`).replace(g.strikethrough,(e,t)=>`<s>${r("~~")}${t}${r("~~")}</s>`).replace(g.superscript,(e,t)=>`<sup>${r("^")}${t}${r("^")}</sup>`).replace(g.subscript,(e,t)=>`<sub>${r("~")}${t}${r("~")}</sub>`).replace(g.italicAsterisk,(e,t)=>`<em>${r("*")}${t}${r("*")}</em>`).replace(g.italicUnderscore,(e,t)=>`<em>${r("_")}${t}${r("_")}</em>`),s=s.replace(/\uE000PROTECTED(\d+)\uE001/g,(e,t)=>i[parseInt(t,10)]),s}function de(a){const s=a.match(/^(\s*)(>)(\s?)$/);if(!s)return d(a);const i=s[1],o=s[2],r=s[3];return i?`<span class="indent">${d(i)}</span><span class="md-syntax">${d(o)}</span>${r}`:`<span class="md-syntax">${d(o)}</span>${r}`}function pe(a){return/^<\w+[^>]*\sclass="[^"]*bq/.test(a)?a:/^<\w+[^>]*\sclass="/.test(a)?a.replace(/^(<\w+[^>]*\sclass="[^"]*)(")/,"$1 bq$2"):a.replace(/^(<\w+)/,'$1 class="bq"')}function ue(a,s){const o=a.split(`
`).map((r,e)=>{const t=s[e];if(!t)return r;const p=de(t),u=r.match(/^(<(?:pre|code|div|h[1-6])[^>]*>)*/),y=u?u[0].length:0,C=r.replace(/<br>/g,"");return C.slice(0,y)+p+C.slice(y)}).join(`
`);return pe(o)}function I(a){if(a.blockquote){const s={type:a.type,text:a.innerText},i=I(s),o=Array.isArray(i)?i:[i];let r=0;const e=[];for(const t of o){const p=(t.match(/\n/g)||[]).length+1,u=a.prefixes.slice(r,r+p);e.push(ue(t,u)),r+=p}return e.length===1?e[0]:e}switch(a.type){case"metadata":{const s=a.text.split(`
`),i=`<span class="md-syntax">${d(s[0])}</span>`,o=`<span class="md-syntax">${d(s[s.length-1])}</span>`,r=s.slice(1,-1);return r.length>0?`<pre><code>${i}
${r.map(e=>d(e)).join(`
`)}
${o}</code></pre>`:`<pre><code>${i}
${o}</code></pre>`}case"code":{const s=a.text.match(/^(```[^\n]*)\n([\s\S]*?)\n(\s*```)$/);return s?`<pre><code><span class="md-syntax">${d(s[1])}</span>
${d(s[2])}
<span class="md-syntax">${d(s[3])}</span></code></pre>`:`<pre><code>${d(a.text)}</code></pre>`}case"indented-code":return`<pre><code>${d(a.text)}</code></pre>`;case"table":return`<pre><code>${a.text.split(`
`).map((o,r)=>{const e=d(o);return r===1?`<span class="md-syntax">${e}</span>`:e.replace(/\|/g,'<span class="md-syntax">|</span>')}).join(`
`)}</code></pre>`;case"math":{const s=a.text.match(/^(\$\$)\n([\s\S]*?)\n(\s*\$\$)$/);return s?`<pre><code class="math"><span class="md-syntax">${d(s[1])}</span>
${d(s[2])}
<span class="md-syntax">${d(s[3])}</span></code></pre>`:`<pre><code class="math">${d(a.text)}</code></pre>`}case"heading":{const s=a.text.match(/^(#{1,6}[ \t]+)(.*)/),i=s[1].trim().length;return`<h${i}><span class="md-syntax">${d(s[1])}</span>${_(s[2])}</h${i}>`}case"setext":{const s=a.text.indexOf(`
`),i=a.text.slice(0,s),o=a.text.slice(s+1),r=o.trimStart()[0]==="="?1:2;return`<h${r}>${_(i)}
<span class="md-rule md-syntax">${d(o)}</span></h${r}>`}case"hr":return`<div class="md-rule md-syntax">${d(a.text)}</div>`;case"line":{if(a.text==="")return'<div class="line"><br></div>';const s=a.text.match(/^(\[\^)([^\]]+)(\]:\s)(.*)/);if(s)return`<div class="line"><span class="md-syntax">${d(s[1])}</span>${d(s[2])}<span class="md-syntax">${d(s[3])}</span>${_(s[4])}</div>`;const i=a.text.match(/^(\[[^\]]+\]:\s+)(\S+)(\s+"[^"]*")?$/);if(i){const t=i[1],p=i[2],u=i[3]||"";return`<div class="line"><span class="md-syntax">${d(t)}</span><a href="${d(p)}" target="_blank" rel="noopener noreferrer">${d(p)}</a><span class="md-syntax">${d(u)}</span></div>`}const o=a.text.match(/^(\s*)([*\-+] )/);if(o){const t=o[1],p=o[2],u=a.text.slice(t.length+p.length),y=u.match(/^(\[[ xX]\] )/);if(y){const C=y[1],k=u.slice(C.length),b=C[1]!==" "?`<span class="task-done">${_(k)}</span>`:_(k);return`<div class="line"><span class="indent">${d(t)}</span><span class="md-syntax">${d(p)}</span><span class="md-checkbox">${d(C)}</span>${b}</div>`}return`<div class="line"><span class="indent">${d(t)}</span><span class="md-syntax">${d(p)}</span>${_(u)}</div>`}const r=a.text.match(/^(\s*)(\d+\. )/);if(r){const t=r[1],p=r[2],u=a.text.slice(t.length+p.length);return`<div class="line"><span class="indent">${d(t)}</span><span class="md-syntax">${d(p)}</span>${_(u)}</div>`}const e=a.text.match(/^(: )/);if(e){const t=e[1],p=a.text.slice(t.length);return`<div class="line"><span class="md-syntax">${d(t)}</span>${_(p)}</div>`}return`<div class="line">${_(a.text)}</div>`}}}function he(a){return B=le(a),R(a).flatMap(i=>{const o=I(i);return Array.isArray(o)?o:[o]}).join("")}function fe(a,s){const i=document.querySelector(".signal-overlay");i&&i.remove();const o=document.createElement("div");o.className="signal-overlay";const r=document.createElement("div");r.className="signal";const e=document.createElement("span");e.className="signal-keys",e.textContent=a;const t=document.createElement("span");t.className="signal-message",t.textContent=s,r.appendChild(e),r.appendChild(t),o.appendChild(r),document.body.appendChild(o),o.addEventListener("animationend",p=>{p.target===o&&o.remove()})}function me(a,s){document.addEventListener("keydown",i=>{if((i.metaKey||i.ctrlKey)&&i.key==="s"){i.preventDefault();const o=i.metaKey?"⌘S":"Ctrl+S";ge(s,o)}})}function ge(a,s){try{const o={content:a()},r=JSON.stringify(o),e=G(r).then(p=>{const u=`${window.location.origin}${window.location.pathname}?#doc=${p}`;return new Blob([u],{type:"text/plain"})}),t=new ClipboardItem({"text/plain":e});navigator.clipboard.write([t]).then(()=>{fe(s,"Link copied!")})}catch(i){console.error("Failed to copy link to clipboard:",i)}}document.addEventListener("DOMContentLoaded",async()=>{const a=document.querySelector(".paper");ye();const s=window.location.hash.startsWith("#doc="),i=await te(),o=s?0:se(),r=ie(a,i,he,ne,{initialCaretPosition:o,onCaretChange:ae});me(a,r.getText),a.focus(),xe(2e3)});function ye(){const a=document.querySelector(".logo");a?.addEventListener("animationend",()=>a.remove(),{once:!0})}function xe(a){let s;document.addEventListener("mousemove",()=>{document.body.classList.remove("hide-cursor"),clearTimeout(s),s=setTimeout(()=>{document.body.classList.add("hide-cursor")},a)},{passive:!0}),document.body.classList.add("hide-cursor")}
