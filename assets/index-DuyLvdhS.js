(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}})();function m(t,e){t.addEventListener("copy",o=>{o.preventDefault();const r=window.getSelection();let n="";if(r.rangeCount>0){const c=r.getRangeAt(0),i=document.createElement("div");i.appendChild(c.cloneContents()),n=l(i)}o.clipboardData.setData("text/plain",n)}),t.addEventListener("cut",o=>{o.preventDefault();const r=window.getSelection();let n="";if(r.rangeCount>0){const c=r.getRangeAt(0),i=document.createElement("div");i.appendChild(c.cloneContents()),n=l(i),o.clipboardData.setData("text/plain",n),c.deleteContents(),e&&e()}}),t.addEventListener("paste",o=>{o.preventDefault();const r=o.clipboardData.getData("text/plain"),n=window.getSelection();if(!n.rangeCount)return;const c=n.getRangeAt(0);c.deleteContents();const i=document.createTextNode(r);c.insertNode(i),c.setStartAfter(i),c.collapse(!0),n.removeAllRanges(),n.addRange(c),f(c),e&&e()})}function f(t){const e=document.createElement("span");e.appendChild(document.createTextNode("​")),t.insertNode(e),e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),e.parentNode.removeChild(e)}function l(t){let e="";const o=t.childNodes;for(let r=0;r<o.length;r++){const n=o[r];n.nodeType===Node.TEXT_NODE?e+=n.textContent:n.nodeType===Node.ELEMENT_NODE&&(r>0&&(n.nodeName==="P"||n.nodeName==="DIV")&&(e+=`
`),e+=l(n))}return e}const d=8192;function p(t){if(t.length===0)return"";const e=new TextEncoder,o=[];for(let r=0;r<t.length;r+=d){const n=t.slice(r,r+d),c=e.encode(n),i=String.fromCharCode(...c);o.push(btoa(i))}return o.join("")}function g(t){if(t.length===0)return"";const e=new TextDecoder,o=[],r=d-d%4;for(let n=0;n<t.length;n+=r){const c=t.slice(n,n+r),i=atob(c),s=new Uint8Array(i.length);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);o.push(e.decode(s,{stream:!0}))}return o.push(e.decode()),o.join("")}function h(t){let e=v();e?(t.innerHTML=e.content||"",localStorage.setItem("editorState",JSON.stringify(e))):(e=S(),e&&(t.innerHTML=e.content||"")),y(),t.addEventListener("input",()=>u(t))}function y(){window.history.replaceState(null,"",window.location.pathname)}function v(){const t=window.location.hash,e="#json=";if(!t.startsWith(e))return null;try{const o=t.substring(e.length),r=g(o);return JSON.parse(r)}catch(o){return console.error("Error parsing URL state:",o.message),console.error("The URL appears to be truncated or corrupted."),null}}function S(){const t=localStorage.getItem("editorState");if(!t)return null;try{return JSON.parse(t)}catch(e){return console.error("Error parsing saved state",e),null}}function u(t){const e={content:t.innerHTML};localStorage.setItem("editorState",JSON.stringify(e))}function E(t=2e3){let e;const o=()=>{document.body.classList.remove("hide-cursor"),clearTimeout(e),e=setTimeout(()=>{document.body.classList.add("hide-cursor")},t)};return document.addEventListener("mousemove",o,{passive:!0}),document.body.classList.add("hide-cursor"),()=>{document.removeEventListener("mousemove",o),clearTimeout(e)}}function L(t,e){const o=document.querySelector(".signal-overlay");o&&o.remove();const r=document.createElement("div");r.className="signal-overlay";const n=document.createElement("div");n.className="signal";const c=document.createElement("span");c.className="signal-keys",c.textContent=t;const i=document.createElement("span");i.className="signal-message",i.textContent=e,n.appendChild(c),n.appendChild(i),r.appendChild(n),document.body.appendChild(r),r.addEventListener("animationend",s=>{s.target===r&&r.remove()})}function w(t){document.addEventListener("keydown",e=>{if((e.metaKey||e.ctrlKey)&&e.key==="s"){e.preventDefault();const o=e.metaKey?"⌘S":"Ctrl+S";b(t,o)}})}async function b(t,e){try{const r={content:t.textContent},n=JSON.stringify(r),c=p(n),i=`${window.location.origin}${window.location.pathname}?#json=${c}`;await navigator.clipboard.writeText(i),L(e,"Link copied!")}catch(o){console.error("Failed to copy link to clipboard:",o)}}function C(t){document.execCommand("defaultParagraphSeparator",!1,"p")}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".paper");N(),h(t),C(),m(t,()=>u(t)),w(t),t.focus(),E()});function N(){const t=document.querySelector(".logo");t?.addEventListener("animationend",()=>t.remove(),{once:!0})}
