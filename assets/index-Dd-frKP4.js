(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();function f(n,e){n.addEventListener("copy",c=>{c.preventDefault();const o=window.getSelection();if(!o.rangeCount)return;const t=o.getRangeAt(0),r=d(t);c.clipboardData.setData("text/plain",r)}),n.addEventListener("cut",c=>{c.preventDefault();const o=window.getSelection();if(!o.rangeCount)return;const t=o.getRangeAt(0),r=d(t);c.clipboardData.setData("text/plain",r),t.deleteContents(),e&&e()}),n.addEventListener("paste",c=>{c.preventDefault();const o=window.getSelection();if(!o.rangeCount)return;const t=o.getRangeAt(0);t.deleteContents();const r=c.clipboardData.getData("text/plain"),s=document.createTextNode(r);t.insertNode(s),t.setStartAfter(s),t.collapse(!0),o.removeAllRanges(),o.addRange(t),m(t),e&&e()})}function m(n){const e=document.createElement("span");n.insertNode(e),e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),e.parentNode.removeChild(e)}const g=new Set(["DIV","P","H1","H2","H3","H4","H5","H6","BLOCKQUOTE","PRE"]);function d(n){const e=document.createElement("div");return e.appendChild(n.cloneContents()),c(e);function c(o){let t="";for(const r of o.childNodes)r.nodeType===Node.TEXT_NODE?t+=r.textContent:r.nodeType===Node.ELEMENT_NODE&&(t&&g.has(r.nodeName)&&(t+=`
`),t+=c(r));return t}}const l=8192;function p(n){if(n.length===0)return"";const e=new TextEncoder,c=[];for(let o=0;o<n.length;o+=l){const t=n.slice(o,o+l),r=e.encode(t),s=String.fromCharCode(...r);c.push(btoa(s))}return c.join("")}function h(n){if(n.length===0)return"";const e=new TextDecoder,c=[],o=l-l%4;for(let t=0;t<n.length;t+=o){const r=n.slice(t,t+o),s=atob(r),i=new Uint8Array(s.length);for(let a=0;a<s.length;a++)i[a]=s.charCodeAt(a);c.push(e.decode(i,{stream:!0}))}return c.push(e.decode()),c.join("")}function y(n){let e=v();e?(n.innerHTML=e.content||"",localStorage.setItem("editorState",JSON.stringify(e))):(e=E(),e&&(n.innerHTML=e.content||"")),S(),n.addEventListener("input",()=>u(n))}function S(){window.history.replaceState(null,"",window.location.pathname)}function v(){const n=window.location.hash,e="#json=";if(!n.startsWith(e))return null;try{const c=n.substring(e.length),o=h(c);return JSON.parse(o)}catch(c){return console.error("Error parsing URL state:",c.message),console.error("The URL appears to be truncated or corrupted."),null}}function E(){const n=localStorage.getItem("editorState");if(!n)return null;try{return JSON.parse(n)}catch(e){return console.error("Error parsing saved state",e),null}}function u(n){const e={content:n.innerHTML};localStorage.setItem("editorState",JSON.stringify(e))}function L(n,e){const c=document.querySelector(".signal-overlay");c&&c.remove();const o=document.createElement("div");o.className="signal-overlay";const t=document.createElement("div");t.className="signal";const r=document.createElement("span");r.className="signal-keys",r.textContent=n;const s=document.createElement("span");s.className="signal-message",s.textContent=e,t.appendChild(r),t.appendChild(s),o.appendChild(t),document.body.appendChild(o),o.addEventListener("animationend",i=>{i.target===o&&o.remove()})}function w(n){document.addEventListener("keydown",e=>{if((e.metaKey||e.ctrlKey)&&e.key==="s"){e.preventDefault();const c=e.metaKey?"âŒ˜S":"Ctrl+S";b(n,c)}})}async function b(n,e){try{const o={content:n.textContent},t=JSON.stringify(o),r=p(t),s=`${window.location.origin}${window.location.pathname}?#json=${r}`;await navigator.clipboard.writeText(s),L(e,"Link copied!")}catch(c){console.error("Failed to copy link to clipboard:",c)}}document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".paper");N(),y(n),f(n,()=>u(n)),w(n),n.focus(),C(2e3)});function N(){const n=document.querySelector(".logo");n?.addEventListener("animationend",()=>n.remove(),{once:!0})}function C(n){let e;document.addEventListener("mousemove",()=>{document.body.classList.remove("hide-cursor"),clearTimeout(e),e=setTimeout(()=>{document.body.classList.add("hide-cursor")},n)},{passive:!0}),document.body.classList.add("hide-cursor")}
